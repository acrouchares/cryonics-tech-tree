<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tech Tree - Revival Research Group</title>

  <style>
    /* ... (keep all existing styles) ... */

    /* Update the mobile styles */
    @media (max-width: 768px) {
      body {
        flex-direction: column;
        overflow: auto;
        height: auto;
      }

      nav {
        width: 100%;
        height: auto;
        max-height: none;
        overflow-y: visible;
        border-right: none;
        border-bottom: 2px solid #67e8f9;
      }

      main {
        height: auto;
        overflow-y: visible;
      }

      .tech-container {
        grid-template-columns: repeat(2, 1fr);
        padding-bottom: 100px;
      }

      .tech-item {
        width: auto;
        padding: 0.5rem;
        margin-bottom: 1rem;
      }

      .tech-item h3 {
        font-size: 0.9rem;
      }

      .tech-item p {
        font-size: 0.8rem;
      }

      .gauge-container {
        width: 30px;
        height: 30px;
      }

      .gauge-text {
        font-size: 0.6rem;
      }
    }
  </style>
</head>
<body>
  <nav>
    <ul id="techList">
      <!-- Tech list will be populated dynamically -->
    </ul>
  </nav>

  <main>
    <div class="tech-container" id="techContainer">
      <!-- Tech boxes will be dynamically created here -->
    </div>
  </main>

  <!-- Modal for displaying tech details -->
  <div id="techModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h3 id="techModalTitle"></h3>
      <p id="techModalCategory"></p>
      <p id="techModalDescription"></p>
      <p id="techModalAiLevel"></p>
      <p id="techModalPrerequisites"></p>
      <p id="techModalFutureTech"></p>
      <p id="techModalEnergyCost"></p>
      <p id="techModalStrategicFocus"></p>
    </div>
  </div>

  <script>
    // ... (keep all existing JavaScript) ...

    // Modify the fetch function to include error handling
    fetch('techs.json')
      .then(response => {
        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        return response.json();
      })
      .then(data => {
        techData = data;
        const techList = document.getElementById('techList');
        const techContainer = document.getElementById('techContainer');

        // ... (keep the rest of the function as is) ...
      })
      .catch(error => {
        console.error('Error loading techs:', error);
        document.body.innerHTML += `<p style="color: red;">Error loading tech data. Please try refreshing the page. Error details: ${error.message}</p>`;
      });

    // Add this line at the end of the script to check if the script is running
    console.log('Tech tree script loaded and running');
  </script>
</body>
</html>
